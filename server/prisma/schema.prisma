generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Event {
  event_id     String    @id @unique @default(cuid())
  event_name   String
  description  String?
  host_id      String
  host         Profile   @relation("host", fields: [event_name], references: [profile_id])
  participants Profile[] @relation("participants")
  adress       String?
  created_at   DateTime  @default(now())
  tags         Tag[]
}

model Profile {
  profile_id   String  @id @unique @default(cuid())
  profile_name String  @unique
  user_id      String  @unique
  User         User    @relation(fields: [user_id], references: [user_id])
  title        String  @unique
  adress       String?
  bio          String?
  participant  Event[] @relation("participants")
  hosted       Event[] @relation("host")
  tags         Tag[]
}

model User {
  user_id    String   @id @default(cuid())
  username   String   @unique
  email      String   @unique
  password   String
  role       Role     @default(USER)
  created_at DateTime @default(now())
  profile    Profile?
}

model Tag {
  id     String    @id @unique @default(cuid())
  name   String    @unique
  Events Event[]
  Users  Profile[]
}

enum Role {
  GUEST
  USER
  VERIFIED_USER
  ADMIN
}

enum Gender {
  MALE
  FEMALE
  NONE
}
